class Exploit < ApplicationRecord
  has_and_belongs_to_many :teams
  has_many :flags

  validates :source, :period, :timeout, :title, presence: true

  enum status: %i[down up]

  include HurricaneEngine::Scheduler::ProcessScheduler
  include ExploitChartsScopes

  after_save     ->() { reschedule }
  before_destroy ->() { unschedule }
end
